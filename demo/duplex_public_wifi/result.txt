test1@test1-desktop:~/denoiser$ ip addr show wlan0
3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 88:a2:9e:0c:81:8e brd ff:ff:ff:ff:ff:ff
    inet 10.249.77.56/24 brd 10.249.77.255 scope global dynamic noprefixroute wlan0
       valid_lft 17929sec preferred_lft 17929sec
    inet6 fe80::e59d:6dae:d7e4:c3e/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever

(venv_denoiser) test2@test2-desktop:~/Facebook-Denoiser-in-Raspberry-Pi-5$ ip addr show wlan0
3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 88:a2:9e:0c:0e:e1 brd ff:ff:ff:ff:ff:ff
    inet 10.249.98.76/24 brd 10.249.98.255 scope global dynamic noprefixroute wlan0
       valid_lft 23720sec preferred_lft 23720sec
    inet6 fe80::518d:1f18:8a39:a5b2/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever


## Test results
test1@test1-desktop:~/denoiser$ ping -c 5 10.249.98.76
PING 10.249.98.76 (10.249.98.76) 56(84) bytes of data.
64 bytes from 10.249.98.76: icmp_seq=1 ttl=63 time=118 ms
64 bytes from 10.249.98.76: icmp_seq=2 ttl=63 time=10.5 ms
64 bytes from 10.249.98.76: icmp_seq=3 ttl=63 time=9.74 ms
64 bytes from 10.249.98.76: icmp_seq=4 ttl=63 time=9.54 ms
64 bytes from 10.249.98.76: icmp_seq=5 ttl=63 time=4.50 ms

--- 10.249.98.76 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4006ms
rtt min/avg/max/mdev = 4.502/30.463/118.022/43.830 ms


Step 1: ë°©í™”ë²½ ì„¤ì • (ì–‘ìª½ RP5) ğŸ”¥
test1ì—ì„œ ì‹¤í–‰:
sudo ufw allow 9998/udp
sudo ufw allow 9999/udp
sudo ufw status
[sudo] password for test1: 
Rules updated
Rules updated (v6)
Rules updated
Rules updated (v6)
Status: inactive

test2ì—ì„œ ì‹¤í–‰:
sudo ufw allow 9998/udp
sudo ufw allow 9999/udp
sudo ufw status
[sudo] password for test2: 
Skipping adding existing rule
Skipping adding existing rule (v6)
Skipping adding existing rule
Skipping adding existing rule (v6)
Status: inactive

Step 2: Hostname í™•ì¸ ë° ì„¤ì • ğŸ·ï¸
test1ì—ì„œ ì‹¤í–‰:
bash# í˜„ì¬ hostname í™•ì¸
hostname

# ë§Œì•½ "test1-desktop"ì´ ì•„ë‹ˆë¼ë©´ ì„¤ì •
sudo hostnamectl set-hostname test1-desktop

# Avahi ì¬ì‹œì‘ (mDNS í™œì„±í™”)
sudo systemctl restart avahi-daemon


test1@test1-desktop:~/denoiser$ hostname
test1-desktop
test1@test1-desktop:~/denoiser$ sudo systemctl restart avahi-daemon

# í™•ì¸
hostname
test2ì—ì„œ ì‹¤í–‰:
# í˜„ì¬ hostname í™•ì¸
hostname

# ë§Œì•½ "test2-desktop"ì´ ì•„ë‹ˆë¼ë©´ ì„¤ì •
sudo hostnamectl set-hostname test2-desktop

# Avahi ì¬ì‹œì‘
sudo systemctl restart avahi-daemon

# í™•ì¸
hostname

(venv_denoiser) test2@test2-desktop:~/Facebook-Denoiser-in-Raspberry-Pi-5$ hostname
test2-desktop
(venv_denoiser) test2@test2-desktop:~/Facebook-Denoiser-in-Raspberry-Pi-5$ sudo systemctl restart avahi-daemon
(venv_denoiser) test2@test2-desktop:~/Facebook-Denoiser-in-Raspberry-Pi-5$ 

Step 3: mDNS í…ŒìŠ¤íŠ¸ ğŸŒ
test1ì—ì„œ test2ë¡œ í…ŒìŠ¤íŠ¸:

ping -c 3 test2-desktop.local
```

test1@test1-desktop:~/denoiser$ ping -c 3 test2-desktop.local
PING test2-desktop.local (10.249.98.76) 56(84) bytes of data.
64 bytes from 10.249.98.76: icmp_seq=1 ttl=63 time=10.0 ms
64 bytes from 10.249.98.76: icmp_seq=2 ttl=63 time=10.2 ms
64 bytes from 10.249.98.76: icmp_seq=3 ttl=63 time=9.41 ms

--- test2-desktop.local ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 9.412/9.877/10.219/0.340 m

test2ì—ì„œ test1ë¡œ í…ŒìŠ¤íŠ¸:
ping -c 3 test1-desktop.local

(venv_denoiser) test2@test2-desktop:~/Facebook-Denoiser-in-Raspberry-Pi-5$ ping -c 3 test1-desktop.local
PING test1-desktop.local (10.249.77.56) 56(84) bytes of data.
64 bytes from 10.249.77.56: icmp_seq=1 ttl=63 time=6.81 ms
64 bytes from 10.249.77.56: icmp_seq=2 ttl=63 time=10.3 ms
64 bytes from 10.249.77.56: icmp_seq=3 ttl=63 time=15.0 ms

--- test1-desktop.local ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2001ms
rtt min/avg/max/mdev = 6.806/10.676/14.960/3.341 ms


Step 4: Config íŒŒì¼ ìˆ˜ì • ğŸ“
test1ì—ì„œ ì‹¤í–‰:
bashcd ~/denoiser/demo/duplex_public_wifi

# Config íŒŒì¼ ë°±ì—… (ì•ˆì „ì„ ìœ„í•´)
cp configs/rp5a_public.yaml configs/rp5a_public.yaml.backup

# Config íŒŒì¼ ìˆ˜ì •
nano configs/rp5a_public.yaml
ìˆ˜ì • ë‚´ìš©:
yamlrole: A
peer_ip: "test2-desktop.local"  # â† ì´ ì¤„ì„ mDNSë¡œ ë³€ê²½
mic_device: 1
speaker_device: 1
send_port: 9999
recv_port: 9998
model: Light-32-Depth4
ì €ì¥: Ctrl+O â†’ Enter â†’ Ctrl+X
í™•ì¸:
bashcat configs/rp5a_public.yaml | grep peer_ip
```

**ì˜ˆìƒ ì¶œë ¥:**
```
peer_ip: "test2-desktop.local"

test2ì—ì„œ ì‹¤í–‰:
bashcd ~/Facebook-Denoiser-in-Raspberry-Pi-5/demo/duplex_public_wifi

# Config ë°±ì—…
cp configs/rp5b_public.yaml configs/rp5b_public.yaml.backup

# Config ìˆ˜ì •
nano configs/rp5b_public.yaml
ìˆ˜ì • ë‚´ìš©:
yamlrole: B
peer_ip: "test1-desktop.local"  # â† ì´ ì¤„ì„ mDNSë¡œ ë³€ê²½
mic_device: 1
speaker_device: 1
send_port: 9998
recv_port: 9999
model: Light-32-Depth4
ì €ì¥: Ctrl+O â†’ Enter â†’ Ctrl+X
í™•ì¸:
bashcat configs/rp5b_public.yaml | grep peer_ip
```

**ì˜ˆìƒ ì¶œë ¥:**
```
peer_ip: "test1-desktop.local"

Step 5: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ğŸš€
test1ì—ì„œ:
bashcd ~/denoiser/demo/duplex_public_wifi
python start_modular_a.py
test2ì—ì„œ:
bashcd ~/Facebook-Denoiser-in-Raspberry-Pi-5/demo/duplex_public_wifi
python start_modular_b.py

âœ… ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
ì–‘ìª½ RP5ì—ì„œ í™•ì¸:
bash# 1. ë°©í™”ë²½
sudo ufw status | grep 999

# 2. Hostname
hostname

# 3. mDNS ì‘ë™
ping -c 1 test2-desktop.local  # test1ì—ì„œ
ping -c 1 test1-desktop.local  # test2ì—ì„œ

# 4. Config
cat configs/rp5a_public.yaml | grep peer_ip  # test1ì—ì„œ
cat configs/rp5b_public.yaml | grep peer_ip  # test2ì—ì„œ
ëª¨ë‘ ì •ìƒì´ë©´:

âœ… ë°©í™”ë²½: 9998/udp, 9999/udp ALLOW
âœ… Hostname: test1-desktop, test2-desktop
âœ… mDNS: ping ì„±ê³µ
âœ… Config: peer_ip: "xxx-desktop.local"


ğŸ‰ ì„¤ì • ì™„ë£Œ!
ì´ì œë¶€í„°ëŠ” ì¬ë¶€íŒ…í•´ë„ ë‹¤ìŒ ëª…ë ¹ë§Œ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤:
bash# test1
cd ~/denoiser/demo/duplex_public_wifi
python start_modular_a.py

# test2
cd ~/Facebook-Denoiser-in-Raspberry-Pi-5/demo/duplex_public_wifi
python start_modular_b.py
ë‹¨ê³„ë³„ë¡œ ì§„í–‰í•´ë³´ì‹œê³ , ì–´ëŠ ë‹¨ê³„ì—ì„œ ë¬¸ì œê°€ ìƒê¸°ë©´ ì•Œë ¤ì£¼ì„¸ìš”!ClaudeëŠ” AIì´ë©° ì‹¤ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ë‹µì„ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.


(venv) test1@test1-desktop:~/denoiser$ ls -la
total 188
drwxrwxr-x 17 test1 test1  4096 Dec 15 12:24  .
drwxr-x--- 23 test1 test1  4096 Nov 20 20:21  ..
drwxrwxr-x  8 test1 test1  4096 Dec 15 12:49  .git
drwxrwxr-x  3 test1 test1  4096 Sep  9 10:13  .github
-rw-rw-r--  1 test1 test1  2116 Nov  3 18:14  .gitignore
-rw-rw-r--  1 test1 test1    85 Oct 28 20:43 '=6.0'
-rw-rw-r--  1 test1 test1  6834 Dec 15 12:24  CLAUDE.md
-rw-rw-r--  1 test1 test1   829 Sep  9 10:13  CONTRIBUTING.md
-rw-rw-r--  1 test1 test1 19333 Sep  9 10:13  LICENSE
-rw-rw-r--  1 test1 test1   130 Sep  9 10:13  MANIFEST.in
-rw-rw-r--  1 test1 test1 20679 Dec 15 12:24  README.md
drwxrwxr-x  7 test1 test1  4096 Dec 15 12:24  archive
drwxrwxr-x  8 test1 test1  4096 Oct 28 19:24  audio_pipeline
drwxrwxr-x  3 test1 test1  4096 Oct 17 14:01  conf
drwxrwxr-x  7 test1 test1  4096 Dec 15 12:24  demo
-rw-rw-r--  1 test1 test1 10059 Oct 24 14:01  demo_ai_toggle.py
drwxrwxr-x  3 test1 test1  4096 Oct 23 10:47  denoiser
drwxrwxr-x  2 test1 test1  4096 Oct 17 14:12  denoiser.egg-info
drwxrwxr-x  2 test1 test1  4096 Dec 15 12:24  docs
-rw-rw-r--  1 test1 test1   305 Sep  9 10:13  hubconf.py
drwxrwxr-x  2 test1 test1  4096 Sep  9 10:13  img
-rwxrwxr-x  1 test1 test1   459 Sep  9 10:13  launch_dns.sh
-rwxrwxr-x  1 test1 test1   511 Sep  9 10:13  launch_valentini.sh
-rwxrwxr-x  1 test1 test1   488 Sep  9 10:13  launch_valentini_nc.sh
-rwxrwxr-x  1 test1 test1   438 Sep  9 10:13  make_debug.sh
drwxrwxr-x  3 test1 test1  4096 Oct 28 19:59  models
drwxrwxr-x  3 test1 test1  4096 Oct 17 14:22  outputs
-rw-rw-r--  1 test1 test1   827 Dec 15 12:24  requirements.txt
drwxrwxr-x  2 test1 test1  4096 Sep  9 11:19  rpi5_optimization
-rw-rw-r--  1 test1 test1    88 Sep  9 10:13  setup.cfg
-rw-rw-r--  1 test1 test1  2228 Oct 17 14:01  setup.py
drwxrwxr-x  3 test1 test1  4096 Oct 24 16:03  src
-rwxrwxr-x  1 test1 test1  3829 Oct 17 14:01  train.py
-rwxrwxr-x  1 test1 test1  3929 Oct 17 14:01  train.py.backup
drwxrwxr-x  6 test1 test1  4096 Oct 17 14:10  venv

(venv) test1@test1-desktop:~/denoiser$ /usr/bin/python3 /home/test1/denoiser/demo/duplex_public_wifi/start_modular_a.py
Traceback (most recent call last):
  File "/home/test1/denoiser/demo/duplex_public_wifi/start_modular_a.py", line 25, in <module>
    import sounddevice as sd
ModuleNotFoundError: No module named 'sounddevice'